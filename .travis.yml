language: python
python:
  - "3.5"

notifications:
  email: false

env:
  global:
    - DOCKER_IMAGE=araffin/rl-baselines-zoo-cpu:v2.8.0

services:
  - docker

install:
  - docker pull ${DOCKER_IMAGE}

script:
  - docker run -it --rm --network host --ipc=host --mount src=$(pwd),target=/root/code/stable-baselines,type=bind ${DOCKER_IMAGE} bash -c "cd /root/code/stable-baselines/ && python -m pytest --cov-config .coveragerc --cov-report term --cov=. -v tests/"
